{"version":3,"sources":["webpack:///./src/app/index.js"],"names":["gsap","registerPlugin","ScrollTrigger","document","addEventListener","date","Date","querySelectorAll","forEach","p","innerHTML","replace","getFullYear","link","e","preventDefault","target","closest","scrollIntoView","block","behavior","banner","to","opacity","ease","immediateRender","scrollTrigger","trigger","start","end","scrub","querySelector","timeline","toggleClass","targets","body","className","setTimeout","adjustSliderArrows","button","classList","contains","slider","jQuery","slick","on","length","add","remove","window","bones_theme_window_height","option","value","indexOf","split","first","top","offsetHeight","arrow","style","doc","documentElement","setProperty","innerHeight"],"mappings":";;;;;;;;;;;;;;;;;sJAOAA,IAAKC,eAAgBC,KAErBC,SAASC,iBAAkB,oBAAoB,WAE9C,IAAIC,EAAO,IAAIC,KA6Cf,IA5CAH,SAASI,iBAAkB,YAAaC,SAAS,SAAEC,GAClDA,EAAEC,UAAYD,EAAEC,UAAUC,QAAS,WAAYN,EAAKO,kBAIrDT,SAASI,iBAAkB,kBAAmBC,SAAS,SAAEK,GACxDA,EAAKT,iBAAkB,SAAS,SAAEU,GAAQ,IAAD,EACxCA,EAAEC,iBACF,UAAAD,EAAEE,OAAOC,QAAS,uBAAlB,SAAoCC,eAAgB,CAAEC,MAAO,QAASC,SAAU,iBAKlFjB,SAASI,iBAAkB,0TAA2TC,SAAS,SAAEa,GAChWrB,IAAKsB,GAAID,EAAQ,CACbE,QAAS,EACTC,KAAM,OACNC,iBAAiB,EACjBC,cAAe,CACbC,QAASN,EACTO,MAAO,UACPC,IAAK,UACLC,OAAO,QAsBV3B,SAAS4B,cAAe,mCACZ5B,SAAS4B,cAAe,iCAC1B,CAEZ/B,IAAKgC,SAAU,CACdN,cAAe,CACdC,QAAS,yBACTC,MAAOA,aACPC,IAAK,cACLC,MAAO,EACPG,YAAa,CAAEC,QAAS/B,SAASgC,KAAMC,UAAW,mBAOtDC,YAAY,WACXC,IAEAnC,SAASI,iBAAkB,qBAAsBC,SAAS,SAAE+B,GAC3DA,EAAOnC,iBAAkB,SAAS,SAAEU,GACnC,GAAIA,EAAEE,OAAOwB,UAAUC,SAAU,YAAc3B,EAAEE,OAAOC,QAAS,iBAAoB,CACpF,IAAMyB,EAAS5B,EAAEE,OAAOC,QAAS,iBACjC0B,OAAQD,GAASE,MAAO,YAAa,UAKxCzC,SAASI,iBAAkB,4CAA6CC,SAAS,SAAEkC,GAClFC,OAAQD,GAASG,GAAI,eAAe,SAAE/B,GACrB6B,OAAQ7B,EAAEE,QAAS4B,MAAO,sBAC3B9B,EAAEE,OAAOT,iBAAkB,kDAAmDuC,OAAS,EAErGhC,EAAEE,OAAOe,cAAe,eAAgBS,UAAUO,IAAK,WAGvDjC,EAAEE,OAAOe,cAAe,eAAgBS,UAAUQ,OAAQ,mBAK3D,KAKHC,OAAO7C,iBAAkB,QAAQ,WAChC8C,IACAZ,OAGAW,OAAO7C,iBAAkB,UAAU,WACnC8C,IACAZ,OAIAY,IAOD/C,SAASI,iBAAkB,uDAAwDC,SAAS,SAAE2C,GAC7F,GAAIA,EAAOC,MAAMC,QAAS,OAAU,EAAI,CACvC,IAAMC,EAAQH,EAAOC,MAAME,MAAO,MACd,GAAhBA,EAAMR,SAETK,EAAOzC,UAAY4C,EAAM,WAM7B,IAAMhB,EAAqB,WAC1BnC,SAASI,iBAAkB,iBAAkBC,SAAS,SAAEkC,GACvD,IAAMa,EAAQb,EAAOX,cAAe,kEACpC,GAAIwB,EAAQ,CACX,IAAMC,EAAMD,EAAME,aAAe,EACjCf,EAAOnC,iBAAkB,gBAAiBC,SAAS,SAAEkD,GACpDA,EAAMC,MAAMH,IAAMA,EAAM,KACnBE,EAAMlB,UAAUC,SAAS,eAC7BiB,EAAMlB,UAAUO,IAAK,sBAQpBG,EAA4B,WAChC,IAAMU,EAAMzD,SAAS0D,gBACrBD,EAAID,MAAMG,YAAY,gBAAtB,UAA0Cb,OAAOc,YAAjD,OAEG5D,SAAS4B,cAAe,WAC3B6B,EAAID,MAAMG,YAAY,wBAAtB,UAAkD3D,SAAS4B,cAAe,UAAW0B,aAArF,S","file":"app/main-9ed894d1.js","sourcesContent":["import './style.scss';\n\n// Slider\nimport { tns } from \"tiny-slider\"\nimport TomSelect from 'tom-select';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin( ScrollTrigger );\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\t// Year in Footer\n\tlet date = new Date();\n\tdocument.querySelectorAll( 'footer p' ).forEach( ( p ) => {\n\t\tp.innerHTML = p.innerHTML.replace( '{{year}}', date.getFullYear() );\n\t} );\n\n\t// Scroll Down\n\tdocument.querySelectorAll( '.scroll-down a' ).forEach( ( link ) => {\n\t\tlink.addEventListener( 'click', ( e ) => { \n\t\t\te.preventDefault();\n\t\t\te.target.closest( '.scroll-down' )?.scrollIntoView( { block: 'start', behavior: 'smooth' } );\n\t\t} );\n\t} );\n\n\t// Fade cover/video - may be seperate images for mobile/desktop\n\tdocument.querySelectorAll( '.wp-block-post-content > .wp-block-video.alignfull:first-child, .wp-block-post-content > .wp-block-video.alignfull:first-child + .wp-block-video.alignfull, .wp-block-post-content > .wp-block-cover.alignfull:first-child, .wp-block-post-content > .wp-block-cover.alignfull:first-child + .wp-block-cover.alignfull' ).forEach( ( banner ) => {\n\t\tgsap.to( banner, {\n      opacity: 0,\n      ease: 'none',\n      immediateRender: false,\n      scrollTrigger: {\n        trigger: banner,\n        start: 'top top',\n        end: '80% top',\n        scrub: true\n      }\n    });\n\t} );\n\n\n\t// if( document.querySelector( '.wp-block-post-content > .wp-block-video.alignfull:first-child, .wp-block-post-content > .wp-block-cover.alignfull:first-child' ) ) {\n\t// \tconst first = document.querySelector( '.wp-block-post-content > .wp-block-video.alignfull:first-child, .wp-block-post-content > .wp-block-cover.alignfull:first-child' );\n\t// \tgsap.to( first, {\n  //     opacity: 0,\n  //     ease: 'none',\n  //     immediateRender: false,\n  //     scrollTrigger: {\n  //       trigger: first,\n  //       start: 'top top',\n  //       end: '80% top',\n  //       scrub: true\n  //     }\n  //   });\n\t// }\n\n\t// Nav Scroll Lock\n\tif( document.querySelector( '.page-template-overlay-header' ) ) {\n\t\tconst header = document.querySelector( 'header.wp-block-template-part' );\n\t\tif( header ) {\n\t\t\tconst start = 10; // header.offsetHeight - 1;\n\t\t\tgsap.timeline( {\n\t\t\t\tscrollTrigger: {\n\t\t\t\t\ttrigger: '.wp-block-post-content',\n\t\t\t\t\tstart: start + \"px start\",\n\t\t\t\t\tend: \"bottom 20px\",\n\t\t\t\t\tscrub: 1,\n\t\t\t\t\ttoggleClass: { targets: document.body, className: 'nav-is-fixed' },\n\t\t\t\t\t// markers: true\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tsetTimeout( () => {\n\t\tadjustSliderArrows();\n\t\t// Loop for sliders\n\t\tdocument.querySelectorAll( 'button.slick-next' ).forEach( ( button ) => {\n\t\t\tbutton.addEventListener( 'click', ( e ) => {\n\t\t\t\tif( e.target.classList.contains( 'is-last') && e.target.closest( '.slick-slider' ) ) {\n\t\t\t\t\tconst slider = e.target.closest( '.slick-slider' );\n\t\t\t\t\tjQuery( slider ).slick( 'slickGoTo', 0 );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\tdocument.querySelectorAll( '.wp-block-getwid-content-slider__wrapper' ).forEach( ( slider ) => {\n\t\t\tjQuery( slider ).on( 'afterChange', ( e ) => {\n\t\t\t\tconst current = jQuery( e.target ).slick( 'slickCurrentSlide' );\n\t\t\t\tconst length = e.target.querySelectorAll( '.wp-block-getwid-content-slider-slide__wrapper' ).length - 1;\n\t\t\t\tif( current == length ) {\n\t\t\t\t\te.target.querySelector( '.slick-next' ).classList.add( 'is-last' );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\te.target.querySelector( '.slick-next' ).classList.remove( 'is-last' );\n\t\t\t\t}\n\t\t\t} );\n\t\n\t\t} );\n\t}, 1000 );\n\n\t// afterChange\n\n\t\n\twindow.addEventListener( 'load', () => {\n\t\tbones_theme_window_height();\n\t\tadjustSliderArrows();\n\t} );\n\n  window.addEventListener( 'resize', () => {\n\t\tbones_theme_window_height();\n\t\tadjustSliderArrows();\n\t} );\n\n\t// iOS window height work around  \n  bones_theme_window_height();\n\n\t//\n\t// jQuery('.slick-slider').each( ( slide )).on( 'load', () => {\n\t// \tconsole.log( 'loaded' );\n\t// } );\n\n\tdocument.querySelectorAll( '.frm_forms.with_frm_style .form-field select option' ).forEach( ( option ) => {\n\t\tif( option.value.indexOf( \"::\" ) >= 0 ) {\n\t\t\tconst split = option.value.split( \"::\" );\n\t\t\tif( split.length == 2 ) {\n\t\t\t\t// option.value = split[0];\n\t\t\t\toption.innerHTML = split[1];\n\t\t\t}\n\t\t}\n\t} );\n} );\n\nconst adjustSliderArrows = () => {\n\tdocument.querySelectorAll( '.slick-slider' ).forEach( ( slider ) => {\n\t\tconst first = slider.querySelector( '.wp-block-getwid-content-slider-slide__wrapper > *:first-child' );\n\t\tif( first ) {\n\t\t\tconst top = first.offsetHeight / 2;\n\t\t\tslider.querySelectorAll( '.slick-arrow' ).forEach( ( arrow ) => {\n\t\t\t\tarrow.style.top = top + 'px';\n\t\t\t\tif( !arrow.classList.contains('is-visible') ) {\n\t\t\t\t\tarrow.classList.add( 'is-visible' );\n\t\t\t\t} \n\t\t\t} );\n\t\t}\n\t} );\n}\n\n// iOS window height\nconst bones_theme_window_height = () => {\n  const doc = document.documentElement\n  doc.style.setProperty('--app--height', `${window.innerHeight}px`);\n\n\tif( document.querySelector( 'header' ) ) {\n\t\tdoc.style.setProperty('--app--header--height', `${document.querySelector( 'header' ).offsetHeight}px`);\n\t}\n}"],"sourceRoot":""}